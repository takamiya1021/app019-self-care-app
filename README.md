# Self-Care 習慣トラッカー

短いセルフケアを日常に取り入れたい人のための Web アプリです。  
ストレッチ・セルフマッサージ・内臓ケアの中からメニューを選ぶと、音声ガイドとカウントダウンが自動で進みます。  
実施後は満足度や気分を記録し、連続実施日数をチェックできます。

---

## 🔑 はじめかた

1. **アクセス**  
   ブラウザで https://app019-syukan-tracker-7vjkhft1s.vercel.app を開きます。

2. **ホーム画面に追加（おすすめ）**  
   - iPhone（Safari）：共有ボタン → 「ホーム画面に追加」  
   - Android（Chrome）：メニュー → 「ホーム画面に追加」  
   ネイティブアプリのようにフルスクリーンで使えます。

3. **メニューを選択**  
   ホーム画面で「ストレッチ」「マッサージ」「内臓ケア」から気になる項目をタップ。  
   詳細ページでは目的別のカードからセッションを開始できます。

4. **音声ガイドを再生**  
   再生ボタンを押すと音声ガイドが流れ、ステップごとのカウントダウンが表示されます。  
   途中で停止・戻ることも可能です。自動再生をオンにすると次のステップに自動で進みます。

5. **フィードバックを残す**  
   セッション終了後は満足度（1〜5）と気分（元気／リラックス など）を選択して記録。  
   実施時刻・所要時間は自動で保存され、ホーム画面で連続実施日数や最近の記録を確認できます。

---

## 📸 アプリの雰囲気

![アプリホーム画面のスクリーンショット](<png/スクリーンショット 2025-11-02 165627.png>)

---

## 💡 活用ヒント

- **音声が再生されないとき**  
  一度画面をタップしてから再生ボタンを押すと音声ブロックが解除されます。  
  端末のミュートスイッチや音量もご確認ください。

- **オフラインでも使える？**  
  PWA に対応しているため、ホーム画面追加後は一度表示したページをオフラインで再生できます。  
  オフライン時は専用ページが開き、接続復帰後に再度更新されます。

- **連続記録の仕組み**  
  ローカル保存なのでログイン不要。端末を変える場合は同じブラウザでアクセスしてください。

- **音声ガイドが速い／遅いと感じたら**  
  現在は固定速度ですが、フィードバックで要望を教えてもらえると改善検討がしやすくなります。

---

## 🔊 音声ガイドのしくみ

- **VOICEVOX で自動生成**  
  すべての音声ガイドは VOICEVOX（speaker: No.10, speedScale: 0.85）で作成。  
  `generate_voicevox_audio.py` を実行すると、ストレッチ／マッサージ／内臓ケアのテキストから WAV ファイルをまとめて生成できます。

- **ファイル構成**  
  - ストレッチ: `public/audio/stretch/<target>_stepN.wav`  
  - マッサージ: `public/audio/massage/<part>_stepN.wav`  
  - 内臓ケア: `public/audio/organ-care/<organ>_stepN.wav`

- **再生ロジック**  
  - `src/hooks/useStepAudio.ts` が共通フック。再生・一時停止・自動ステップ送りを管理。  
  - 各シーンの音声パスは `src/lib/audio/audio-paths.ts` で組み立て。  
  - ステップ完了後は `onEnded` コールバックで次のタイマーや画面更新をトリガーしています。

---

## 🗂️ ファイル構成メモ

```
src/
├─ app/                # 画面エントリ（App Router）
│   ├─ page.tsx        # ホーム画面
│   └─ offline/        # オフライン時のフォールバック
├─ components/         # セルフケア別コンポーネント
├─ hooks/              # 共通フック（useStepAudio など）
├─ lib/                # データ・ユーティリティ・ストレージ
└─ types/              # 型定義
public/
├─ audio/              # VOICEVOX 生成音声
└─ icons/              # PWA アイコン
```

開発者向けの詳細技術情報は `doc/requirements.md` / `doc/technical-design.md` / `doc/implementation-plan.md` に整理しています。

---

## 🤝 フィードバック・お問い合わせ

感想や不具合報告、こんなセルフケアを追加してほしいといった要望があれば、Issue や Pull Request でお気軽にどうぞ。  
みんなの「自分をいたわる時間」を応援しています！
